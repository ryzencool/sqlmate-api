<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.marsh.sqlmateapi.mapper.TableColumnMapper">

    <select id="listProjectColumns" resultType="com.marsh.sqlmateapi.mapper.result.TableDetailResult">
        select t1.id   as column_id,
               t1.name as column_name,
               t1.type as column_type,
               t2.id   as table_id,
               t2.name as table_name
        from table_column t1
                 left join table_info t2 on t1.table_id = t2.id
        where t2.project_id = #{projectId}
          and t1.is_del = false
    </select>

</mapper>